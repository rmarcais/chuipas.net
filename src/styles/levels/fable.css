/* ---------- Fable level (improved) ---------- */
.raceTrack{
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:16px;
  border: var(--thick) solid var(--ink);
  border-radius:20px;
  background: linear-gradient(180deg, #e8f7e1, #f7f1dc);
  box-shadow: var(--shadow2);
}

.raceActions{
  display:flex;
  justify-content:center;
  align-items:center;
  margin-top: 6px;
}

.lane{
  position:relative;
  height:54px;
  border-radius:14px;
  overflow:hidden;
}

.lane.grass{
  background:
    repeating-linear-gradient(
      90deg,
      #7bc96f 0 16px,
      #6abf69 16px 32px
    );
}

.lane.dirt{
  background:
    repeating-linear-gradient(
      90deg,
      #d2b48c 0 16px,
      #c2a574 16px 32px
    );
}

.finish{
  position:absolute;
  right:8px;
  top:0;
  bottom:0;
  width:12px;
  background:
    repeating-linear-gradient(
      180deg,
      #000 0 6px,
      #fff 6px 12px
    );
  border-radius:6px;
}

.runner{
  position:absolute;
  left:8px;
  top:50%;
  transform: translateY(-50%);
  font-size:34px;
  transition: transform .1s linear;
}

/* ---------- Countdown (centered & dramatic) ---------- */
.countdown{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;

  font-family: var(--fontTitle);
  font-weight:900;
  font-size:36px;
  text-align:center;

  background: rgba(255,255,255,.75);
  backdrop-filter: blur(2px);

  opacity:0;
  pointer-events:none;
  transition: opacity .25s ease;
  z-index: 4;
}

.countdown.show{
  opacity:1;
}

/* ---------- Fable fail overlay (clean & dramatic) ---------- */
.fableOverlay{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;

  background:
    radial-gradient(
      circle at center,
      rgba(255,255,255,.95),
      rgba(255,255,255,.88)
    );

  opacity:0;
  pointer-events:none;
  transition: opacity .35s ease;
  z-index: 5;
}

.fableOverlay.show{
  opacity:1;
  pointer-events:auto;
}

.fableFail{
  text-align:center;
  max-width: 360px;
  padding:26px 24px;

  border: var(--thick) solid var(--ink);
  border-radius:26px;
  background:white;

  box-shadow:
    10px 10px 0 rgba(0,0,0,.25),
    0 0 0 6px rgba(255,255,255,.6);

  animation: popIn .25s ease-out;
}

.fableFace{
  font-size:72px;
  margin-bottom:14px;
}

.failText{
  margin:0 0 18px 0;
  font-size:18px;
  line-height:1.3;
}